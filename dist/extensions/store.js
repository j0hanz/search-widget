System.register([],(function(e,t){return{execute:function(){e((()=>{var e={5829:(e,t,r)=>{"use strict";var n,i,o,s,a;r.d(t,{Mc:()=>o,xJ:()=>i}),function(e){e.Locator="locator",e.Layer="layer"}(n||(n={})),function(e){e.SetResults="search/setResults",e.ClearResults="search/clearResults",e.SetActiveSource="search/setActiveSource",e.SetSearching="search/setSearching",e.SetLastSearchTerm="search/setLastSearchTerm",e.SetError="search/setError",e.SetCoordinateInput="search/setCoordinateInput",e.SetCoordinateResult="search/setCoordinateResult",e.ClearCoordinateResult="search/clearCoordinateResult"}(i||(i={})),function(e){e.SpaceSeparated="space",e.CommaSeparated="comma",e.Labeled="labeled",e.Unknown="unknown"}(o||(o={})),function(e){e.Auto="auto",e.Tm="tm",e.Zone="zone"}(s||(s={})),function(e){e.Default="default",e.Linear="linear"}(a||(a={}))},7390:(e,t,r)=>{var n;!function(){"use strict";var i=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),i={use_static:!1};function o(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function s(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(i.use_static=Boolean(t.use_static));var a="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,a)))}function u(e,t){return e===t||e!=e&&t!=t}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var f=["setPrototypeOf"],p=(f.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function d(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function h(e,t){return s(e,a,!0),e}function y(e,t){var r=e[t];s(e,t,(function(){return $(r.apply(e,arguments))}))}function g(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&l(t)&&l(this[e])&&(t=$.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var i=j.call(this);return i[e]=$(t),m(i)}f.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),d.prototype=new Error,d.prototype.constructor=Error;var b=$([]);function v(e,t,r){var n=e[0];if(1===e.length)return g.call(this,n,t,r);var i,o=e.slice(1),s=this[n];if("object"==typeof s&&null!==s)i=$.setIn(s,o,t);else{var a=o[0];i=""!==a&&isFinite(a)?v.call(b,o,t):_.call(J,o,t)}if(n in this&&s===i)return this;var c=j.call(this);return c[n]=i,m(c)}function m(e){for(var t in p){if(p.hasOwnProperty(t))y(e,p[t])}i.use_static||(s(e,"flatMap",I),s(e,"asObject",O),s(e,"asMutable",j),s(e,"set",g),s(e,"setIn",v),s(e,"update",D),s(e,"updateIn",F),s(e,"getIn",L));for(var r=0,n=e.length;r<n;r++)e[r]=$(e[r]);return h(e)}function S(){return new Date(this.getTime())}function I(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this);Array.isArray(i)?r.push.apply(r,i):r.push(i)}return m(r)}function w(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=o(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return N(r)}function j(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(x(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function O(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this),o=i[0],s=i[1];r[o]=s}return N(r)}function x(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,a)||e instanceof Date?e:$.asMutable(e,{deep:!0})}function C(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function P(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,i=Array.isArray(e),s=t&&t.deep,a=t&&t.mode||"merge",c=t&&t.merger;function f(e,n,i){var a,f=$(n[i]),p=c&&c(e[i],f,t),d=e[i];void 0===r&&void 0===p&&e.hasOwnProperty(i)&&u(f,d)||(u(d,a=void 0!==p?p:s&&l(d)&&l(f)?$.merge(d,f,t):f)&&e.hasOwnProperty(i)||(void 0===r&&(r=C(e,o(e))),r[i]=a))}if(i)for(var p=0,d=e.length;p<d;p++){var h=e[p];for(n in h)h.hasOwnProperty(n)&&f(void 0!==r?r:this,h,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&f(this,e,n);"replace"===a&&function(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=C(e,o(e))),delete r[n])}(this,e)}return void 0===r?this:N(r)}function A(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return $.merge(this,e,{deep:r,mode:"replace"})}var R,M,T,J=$({});function _(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return k.call(this,n,t,r);var i,s=e.slice(1),a=this[n];if(i=this.hasOwnProperty(n)&&"object"==typeof a&&null!==a?$.setIn(a,s,t):_.call(J,s,t),this.hasOwnProperty(n)&&a===i)return this;var c=C(this,o(this));return c[n]=i,N(c)}function k(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&l(t)&&l(this[e])&&(t=$.merge(this[e],t,{deep:!0,mode:"replace"})),u(this[e],t)))return this;var i=C(this,o(this));return i[e]=$(t),N(i)}function D(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return $.set(this,e,t.apply(n,[n].concat(r)))}function E(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function F(e,t){var r=Array.prototype.slice.call(arguments,2),n=E(this,e);return $.setIn(this,e,t.apply(n,[n].concat(r)))}function L(e,t){var r=E(this,e);return void 0===r?t:r}function U(e){var t,r=o(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=x(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function B(){return{}}function N(e){return i.use_static||(s(e,"merge",P),s(e,"replace",A),s(e,"without",w),s(e,"asMutable",U),s(e,"set",k),s(e,"setIn",_),s(e,"update",D),s(e,"updateIn",F),s(e,"getIn",L)),h(e)}function $(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then($);if(Array.isArray(e))return m(e.slice());if(e instanceof Date)return o=new Date(e.getTime()),i.use_static||s(o,"asMutable",S),h(o);var o,a=t&&t.prototype,u=(a&&a!==Object.prototype?function(){return Object.create(a)}:B)();for(var l in e)Object.getOwnPropertyDescriptor(e,l)&&(u[l]=$(e[l],void 0,r));return N(u)}function W(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function Y(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return $.from=$,$.isImmutable=c,$.ImmutableError=d,$.merge=W(P),$.replace=W(A),$.without=W(w),$.asMutable=(R=U,M=j,T=S,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?M.apply(t,e):t instanceof Date?T.apply(t,e):R.apply(t,e)}),$.set=Y(k,g),$.setIn=Y(_,v),$.update=W(D),$.updateIn=W(F),$.getIn=W(L),$.flatMap=W(I),$.asObject=W(O),i.use_static||($.static=e({use_static:!0})),Object.freeze($),$}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var n={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(n),r.d(n,{createDefaultWidgetState:()=>o,default:()=>p,getDefaultWidgetState:()=>f,searchActions:()=>l,searchReducer:()=>u});var e=r(7390),t=r.n(e),i=r(5829);const o=e=>t()({results:[],activeSourceIndex:0,isSearching:!1,lastSearchTerm:"",errorMessage:null,coordinateResult:null,isCoordinateInput:!1,...e}),s=t()({byId:{}}),a=e=>t()(e??[]),c=(e=s,t)=>{const{widgetId:r}=t;if(!r)return e;const n=((e,t)=>(e&&"object"==typeof e&&e.byId&&"object"==typeof e.byId||(e=s),e.byId[t]?e:e.setIn(["byId",t],o())))(e,r),c=n.byId?.[r];if(!c)return n;switch(t.type){case i.xJ.SetResults:{const e=c.set("results",a(t.results)).set("isSearching",!1);return n.setIn(["byId",r],e)}case i.xJ.ClearResults:{const e=c.set("results",a([])).set("lastSearchTerm","").set("isSearching",!1).set("errorMessage",null);return n.setIn(["byId",r],e)}case i.xJ.SetActiveSource:{const e=c.set("activeSourceIndex",t.index);return n.setIn(["byId",r],e)}case i.xJ.SetSearching:{const e=c.set("isSearching",t.value).set("errorMessage",null);return n.setIn(["byId",r],e)}case i.xJ.SetLastSearchTerm:{const e=c.set("lastSearchTerm",t.value);return n.setIn(["byId",r],e)}case i.xJ.SetError:{const e=c.set("errorMessage",t.message).set("isSearching",!1);return n.setIn(["byId",r],e)}case i.xJ.SetCoordinateInput:{const e=c.set("isCoordinateInput",Boolean(t.isCoordinate)).set("coordinateResult",t.isCoordinate?c.coordinateResult:null);return n.setIn(["byId",r],e)}case i.xJ.SetCoordinateResult:{const e=c.set("coordinateResult",t.result??null);return n.setIn(["byId",r],e)}case i.xJ.ClearCoordinateResult:{const e=c.set("coordinateResult",null);return n.setIn(["byId",r],e)}}return n},u=c,l={setResults:(e,t)=>({type:i.xJ.SetResults,results:Array.isArray(e)?e:[],widgetId:t}),clearResults:e=>({type:i.xJ.ClearResults,widgetId:e}),setActiveSource:(e,t)=>({type:i.xJ.SetActiveSource,index:"number"==typeof e&&Number.isFinite(e)?Math.max(0,Math.floor(e)):0,widgetId:t}),setSearching:(e,t)=>({type:i.xJ.SetSearching,value:Boolean(e),widgetId:t}),setLastSearchTerm:(e,t)=>({type:i.xJ.SetLastSearchTerm,value:"string"==typeof e?e:"",widgetId:t}),setError:(e,t)=>({type:i.xJ.SetError,message:null===e||"string"==typeof e?e:String(e),widgetId:t}),setCoordinateInput:(e,t)=>({type:i.xJ.SetCoordinateInput,isCoordinate:Boolean(e),widgetId:t}),setCoordinateResult:(e,t)=>{let r=null;if(e&&"object"==typeof e)try{const n="string"==typeof e.projectionId?e.projectionId:"",o="number"==typeof e.easting&&Number.isFinite(e.easting)?e.easting:0,s="number"==typeof e.northing&&Number.isFinite(e.northing)?e.northing:0,a="number"==typeof e.confidence&&Number.isFinite(e.confidence)?e.confidence:0;if(!n)return{type:i.xJ.SetCoordinateResult,result:null,widgetId:t};let c=null;if(e.mapPoint&&"object"==typeof e.mapPoint&&"number"==typeof e.mapPoint.x&&"number"==typeof e.mapPoint.y&&e.mapPoint.spatialReference&&"object"==typeof e.mapPoint.spatialReference){const t=e.mapPoint.spatialReference,r="number"==typeof t.wkid&&Number.isFinite(t.wkid)&&t.wkid>0,n="string"==typeof t.wkt&&t.wkt.trim().length>0;r||n?c={x:e.mapPoint.x,y:e.mapPoint.y,spatialReference:r?{wkid:t.wkid}:{wkt:t.wkt}}:console.log("Search widget: invalid spatial reference in coordinate result")}r={projectionId:n,easting:o,northing:s,warnings:Array.isArray(e.warnings)?e.warnings.filter((e=>"string"==typeof e)):[],confidence:a,format:e.format??i.Mc.Unknown,alternativeProjectionIds:Array.isArray(e.alternativeProjectionIds)?e.alternativeProjectionIds.filter((e=>"string"==typeof e)):[],mapPoint:c}}catch(e){console.log("Search widget: invalid coordinate result data",e),r=null}return{type:i.xJ.SetCoordinateResult,result:r,widgetId:t}},clearCoordinateResult:e=>({type:i.xJ.ClearCoordinateResult,widgetId:e})},f=()=>o();class p{constructor(){this.id="search_widget_store"}getActions(){return Object.values(i.xJ)}getInitLocalState(){return{byId:{}}}getReducer(){return c}getStoreKey(){return"searchWidgetState"}}})(),n})())}}}));