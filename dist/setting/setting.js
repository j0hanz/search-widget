System.register(["jimu-core","jimu-ui/advanced/setting-components","jimu-ui","jimu-theme","jimu-arcgis"],(function(e,t){var r={},a={},n={},o={},i={};return{setters:[function(e){r.React=e.React,r.classNames=e.classNames,r.css=e.css,r.hooks=e.hooks,r.jsx=e.jsx,r.polished=e.polished},function(e){a.MapWidgetSelector=e.MapWidgetSelector,a.SettingRow=e.SettingRow,a.SettingSection=e.SettingSection},function(e){n.Alert=e.Alert,n.Button=e.Button,n.Icon=e.Icon,n.NumericInput=e.NumericInput,n.Option=e.Option,n.Select=e.Select,n.Switch=e.Switch,n.TextInput=e.TextInput},function(e){o.useTheme=e.useTheme},function(){}],execute:function(){e((()=>{var e={1888:e=>{"use strict";e.exports=o},2686:e=>{"use strict";e.exports=i},4203:e=>{e.exports="data:image/png;base64,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"},4321:e=>{"use strict";e.exports=n},7390:(e,t,r)=>{var a;!function(){"use strict";var n=function e(t){var r,a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),n={use_static:!1};function o(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function i(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(n.use_static=Boolean(t.use_static));var s="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,s)))}function l(e,t){return e===t||e!=e&&t!=t}function u(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var d=["setPrototypeOf"],g=(d.concat(["push","pop","sort","splice","shift","unshift","reverse"]),["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]));function h(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function p(e,t){return i(e,s,!0),e}function A(e,t){var r=e[t];i(e,t,(function(){return H(r.apply(e,arguments))}))}function f(e,t,r){var a=r&&r.deep;if(e in this&&(a&&this[e]!==t&&u(t)&&u(this[e])&&(t=H.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var n=x.call(this);return n[e]=H(t),y(n)}d.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]),h.prototype=new Error,h.prototype.constructor=Error;var S=H([]);function m(e,t,r){var a=e[0];if(1===e.length)return f.call(this,a,t,r);var n,o=e.slice(1),i=this[a];if("object"==typeof i&&null!==i)n=H.setIn(i,o,t);else{var s=o[0];n=""!==s&&isFinite(s)?m.call(S,o,t):F.call(O,o,t)}if(a in this&&i===n)return this;var c=x.call(this);return c[a]=n,y(c)}function y(e){for(var t in g){if(g.hasOwnProperty(t))A(e,g[t])}n.use_static||(i(e,"flatMap",b),i(e,"asObject",j),i(e,"asMutable",x),i(e,"set",f),i(e,"setIn",m),i(e,"update",T),i(e,"updateIn",z),i(e,"getIn",B));for(var r=0,a=e.length;r<a;r++)e[r]=H(e[r]);return p(e)}function v(){return new Date(this.getTime())}function b(e){if(0===arguments.length)return this;var t,r=[],a=this.length;for(t=0;t<a;t++){var n=e(this[t],t,this);Array.isArray(n)?r.push.apply(r,n):r.push(n)}return y(r)}function w(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=o(this);for(var a in this)this.hasOwnProperty(a)&&!1===e(this[a],a)&&(r[a]=this[a]);return U(r)}function x(e){var t,r,a=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)a.push(C(this[t]));else for(t=0,r=this.length;t<r;t++)a.push(this[t]);return a}function j(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},a=this.length;for(t=0;t<a;t++){var n=e(this[t],t,this),o=n[0],i=n[1];r[o]=i}return U(r)}function C(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,s)||e instanceof Date?e:H.asMutable(e,{deep:!0})}function E(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function R(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,a,n=Array.isArray(e),i=t&&t.deep,s=t&&t.mode||"merge",c=t&&t.merger;function d(e,a,n){var s,d=H(a[n]),g=c&&c(e[n],d,t),h=e[n];void 0===r&&void 0===g&&e.hasOwnProperty(n)&&l(d,h)||(l(h,s=void 0!==g?g:i&&u(h)&&u(d)?H.merge(h,d,t):d)&&e.hasOwnProperty(n)||(void 0===r&&(r=E(e,o(e))),r[n]=s))}if(n)for(var g=0,h=e.length;g<h;g++){var p=e[g];for(a in p)p.hasOwnProperty(a)&&d(void 0!==r?r:this,p,a)}else{for(a in e)Object.getOwnPropertyDescriptor(e,a)&&d(this,e,a);"replace"===s&&function(e,t){for(var a in e)t.hasOwnProperty(a)||(void 0===r&&(r=E(e,o(e))),delete r[a])}(this,e)}return void 0===r?this:U(r)}function I(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return H.merge(this,e,{deep:r,mode:"replace"})}var M,k,P,O=H({});function F(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var a=e[0];if(1===e.length)return L.call(this,a,t,r);var n,i=e.slice(1),s=this[a];if(n=this.hasOwnProperty(a)&&"object"==typeof s&&null!==s?H.setIn(s,i,t):F.call(O,i,t),this.hasOwnProperty(a)&&s===n)return this;var c=E(this,o(this));return c[a]=n,U(c)}function L(e,t,r){var a=r&&r.deep;if(this.hasOwnProperty(e)&&(a&&this[e]!==t&&u(t)&&u(this[e])&&(t=H.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var n=E(this,o(this));return n[e]=H(t),U(n)}function T(e,t){var r=Array.prototype.slice.call(arguments,2),a=this[e];return H.set(this,e,t.apply(a,[a].concat(r)))}function W(e,t){for(var r=0,a=t.length;null!=e&&r<a;r++)e=e[t[r]];return r&&r==a?e:void 0}function z(e,t){var r=Array.prototype.slice.call(arguments,2),a=W(this,e);return H.setIn(this,e,t.apply(a,[a].concat(r)))}function B(e,t){var r=W(this,e);return void 0===r?t:r}function D(e){var t,r=o(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=C(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function N(){return{}}function U(e){return n.use_static||(i(e,"merge",R),i(e,"replace",I),i(e,"without",w),i(e,"asMutable",D),i(e,"set",L),i(e,"setIn",F),i(e,"update",T),i(e,"updateIn",z),i(e,"getIn",B)),p(e)}function H(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===a)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(H);if(Array.isArray(e))return y(e.slice());if(e instanceof Date)return o=new Date(e.getTime()),n.use_static||i(o,"asMutable",v),p(o);var o,s=t&&t.prototype,l=(s&&s!==Object.prototype?function(){return Object.create(s)}:N)();for(var u in e)Object.getOwnPropertyDescriptor(e,u)&&(l[u]=H(e[u],void 0,r));return U(l)}function V(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function X(e,t){return function(){var r=[].slice.call(arguments),a=r.shift();return Array.isArray(a)?t.apply(a,r):e.apply(a,r)}}return H.from=H,H.isImmutable=c,H.ImmutableError=h,H.merge=V(R),H.replace=V(I),H.without=V(w),H.asMutable=(M=D,k=x,P=v,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?k.apply(t,e):t instanceof Date?P.apply(t,e):M.apply(t,e)}),H.set=X(L,f),H.setIn=X(F,m),H.update=V(T),H.updateIn=V(z),H.getIn=V(B),H.flatMap=V(b),H.asObject=V(j),n.use_static||(H.static=e({use_static:!0})),Object.freeze(H),H}();void 0===(a=function(){return n}.call(t,r,t,e))||(e.exports=a)}()},9161:e=>{e.exports="data:image/png;base64,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"},9244:e=>{"use strict";e.exports=r},9298:e=>{"use strict";e.exports=a}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="";var c={};return s.p=window.jimuConfig.baseUrl,(()=>{"use strict";s.r(c),s.d(c,{__set_webpack_public_path__:()=>J,default:()=>q});var e,t,r,a,n,o=s(9244),i=s(9298),l=s(4321),u=s(7390),d=s.n(u);!function(e){e.Locator="locator",e.Layer="layer"}(e||(e={})),function(e){e.SetResults="search/setResults",e.ClearResults="search/clearResults",e.SetActiveSource="search/setActiveSource",e.SetSearching="search/setSearching",e.SetLastSearchTerm="search/setLastSearchTerm",e.SetError="search/setError",e.SetCoordinateInput="search/setCoordinateInput",e.SetCoordinateResult="search/setCoordinateResult",e.ClearCoordinateResult="search/clearCoordinateResult"}(t||(t={})),function(e){e.SpaceSeparated="space",e.CommaSeparated="comma",e.Labeled="labeled",e.Unknown="unknown"}(r||(r={})),function(e){e.Auto="auto",e.Tm="tm",e.Zone="zone"}(a||(a={})),function(e){e.Default="default",e.Linear="linear"}(n||(n={}));const g="Find address or place",h={id:"default-locator",type:e.Locator,name:"ArcGIS World Geocoding Service",placeholder:g,url:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",maxSuggestions:6},p=1e4,A=a.Auto,f=n.Default;if(!Number.isFinite(.001))throw new Error("PRECISION_LIMITER must be a positive finite number");const S={eMin:5e4,eMax:25e4,nMin:61e5,nMax:77e5},m=[{zoneId:"12 00",name:"SWEREF 99 12 00",epsg:3007,centralMeridian:12},{zoneId:"13 30",name:"SWEREF 99 13 30",epsg:3008,centralMeridian:13.5},{zoneId:"15 00",name:"SWEREF 99 15 00",epsg:3009,centralMeridian:15},{zoneId:"16 30",name:"SWEREF 99 16 30",epsg:3010,centralMeridian:16.5},{zoneId:"18 00",name:"SWEREF 99 18 00",epsg:3011,centralMeridian:18},{zoneId:"14 15",name:"SWEREF 99 14 15",epsg:3012,centralMeridian:14.25},{zoneId:"15 45",name:"SWEREF 99 15 45",epsg:3013,centralMeridian:15.75},{zoneId:"17 15",name:"SWEREF 99 17 15",epsg:3014,centralMeridian:17.25},{zoneId:"18 45",name:"SWEREF 99 18 45",epsg:3015,centralMeridian:18.75},{zoneId:"20 15",name:"SWEREF 99 20 15",epsg:3016,centralMeridian:20.25},{zoneId:"21 45",name:"SWEREF 99 21 45",epsg:3017,centralMeridian:21.75},{zoneId:"23 15",name:"SWEREF 99 23 15",epsg:3018,centralMeridian:23.25}].map((e=>({id:`sweref99-${e.zoneId.replace(/\s+/g,"").toLowerCase()}`,epsg:e.epsg,code:`EPSG:${e.epsg}`,name:e.name,shortName:e.name,type:"zone",zoneId:e.zoneId,centralMeridian:e.centralMeridian,scaleFactor:1,falseEasting:15e4,falseNorthing:0,bounds:S}))),y=[{id:"sweref99-tm",epsg:3006,code:"EPSG:3006",name:"SWEREF 99 TM",shortName:"SWEREF 99 TM",type:"tm",centralMeridian:15,scaleFactor:.9996,falseEasting:5e5,falseNorthing:0,bounds:{eMin:3e5,eMax:7e5,nMin:61e5,nMax:77e5}},...m],v={};for(const e of y)v[e.epsg]=e;const b={};for(const e of m){b[Math.round(100*e.centralMeridian)/100]=e}Object.freeze(v),Object.freeze(b);var w=s(1888);const x=()=>{const e=(0,w.useTheme)(),t=o.React.useRef(null),r=o.React.useRef(e);let a=t.current;return a&&r.current===e||(a=(e=>{const t=e?.sys?.spacing,r=e?.sys?.typography??{},a=r.subtitle1??r.title1,n=r.caption??r.label2;return{sectionHeader:(0,o.css)({font:`${a?.fontWeight} ${a?.fontSize} ${a?.fontFamily}`}),fieldWidth:(0,o.css)({width:"100%"}),fieldError:(0,o.css)({font:`${n?.fontSize} ${n?.fontFamily}`}),coordinateSection:(0,o.css)({display:"flex",flexDirection:"column",paddingBlock:t?.(1.5)}),coordinateField:(0,o.css)({display:"flex",flexDirection:"column",gap:t?.(.5)})}})(e),t.current=a,r.current=e),a};s(2686);const j=e=>e?.toString?.().replace(/[\r\n]+/g," ").trim()??"",C=(e,t)=>j(e)||t,E=e=>"string"==typeof e?e:"number"==typeof e||"boolean"==typeof e?String(e):"",R=e=>Array.isArray(e)?e.map(j).filter(Boolean):[],I=e=>{const t=j(e);if(!t)return"";try{return new URL(t).toString()}catch{return""}},M=e=>"number"==typeof e&&Number.isFinite(e),k=(e,t)=>{const r="number"==typeof e?e:parseInt(e,10);return M(r)&&r>0?Math.round(r):t},P=(e,t)=>{const r=(e=>"number"==typeof e?e:parseFloat(e))(e);return M(r)&&r>0?r:t},O=(e,t,r,a)=>{const n=`search-source-${t}`,o=`Source ${t+1}`;return{id:C(E(e?.id??""),n),name:C(E(e?.name??""),o),placeholder:C(E(e?.placeholder??""),r),maxSuggestions:"number"==typeof e?.maxSuggestions?k(e.maxSuggestions,a):a}},F=(t,r,a,n)=>{const o=O(t,r,a,n),i=I(E(t?.url??h.url)),s=R(t?.categories),c=R(t?.outFields),l=j(t?.countryCode??"").replace(/[^A-Za-z]/g,"").slice(0,3).toUpperCase(),u=j(t?.locationType??"").toLowerCase(),d="street"===u||"rooftop"===u?u:void 0;return{...o,type:e.Locator,url:i||h.url,apiKey:j(t?.apiKey??"")||void 0,categories:s.length?s:void 0,countryCode:l||void 0,locationType:d,withinViewEnabled:"boolean"==typeof t?.withinViewEnabled?t.withinViewEnabled:void 0,outFields:c.length?c:void 0}},L=(t,r,a,n)=>{const o=O(t,r,a,n),i=R(t?.searchFields),s="number"==typeof t?.minSuggestCharacters?k(t.minSuggestCharacters,3):void 0;return{...o,type:e.Layer,url:I(E(t?.url??"")),layerId:C(t?.layerId??"",""),searchFields:i,displayField:j(t?.displayField??"")||void 0,exactMatch:"boolean"==typeof t?.exactMatch?t.exactMatch:void 0,minSuggestCharacters:s,resultSymbol:t?.resultSymbol?{...t.resultSymbol}:void 0}},T=(t,r)=>{const a=(e=>{if(null==e)return null;const t=e;return"function"==typeof t.asMutable?t.asMutable({deep:!0}):e})(t??null),n=a??(o=t,Boolean(o&&"object"==typeof o&&!("asMutable"in o))?t:{});var o;const i=C(E(n.placeholder??""),g),s="number"==typeof n.maxSuggestions?k(n.maxSuggestions,6):6,c="number"==typeof n.zoomScale&&n.zoomScale>0?n.zoomScale:1e4,l=(Array.isArray(n.searchSources)?n.searchSources:[]).map(((t,r)=>t.type===e.Layer?L(t,r,i,s):F(t,r,i,s))),u=r?.ensureDefaultSource??!0,d=l.length||!u?l:[{...h,placeholder:i,maxSuggestions:s}];return{placeholder:i,maxSuggestions:s,zoomScale:c,persistLastSearch:"boolean"!=typeof n.persistLastSearch||n.persistLastSearch,enableCoordinateSearch:"boolean"!=typeof n.enableCoordinateSearch||n.enableCoordinateSearch,coordinateZoomScale:"number"==typeof n.coordinateZoomScale&&n.coordinateZoomScale>0?n.coordinateZoomScale:p,preferredProjection:n.preferredProjection??A,showCoordinateBadge:"boolean"!=typeof n.showCoordinateBadge||n.showCoordinateBadge,styleVariant:n.styleVariant??f,searchSources:d}},W=/^https:\/\//i,z=(e,t)=>{e?.name||t.push("missingName"),e?.placeholder||t.push("missingPlaceholder"),e.url?W.test(e.url)||t.push("invalidUrl"):t.push("missingUrl")},B=t=>t?.type===e.Locator,D=t=>t?.type===e.Layer,N=(new WeakMap,new WeakMap,{settingSearchSources:"Search sources",settingAddSource:"Add search source",settingSourceType:"Source type",settingSourceUrl:"Service URL",settingSearchFields:"Search fields (comma-separated)",settingDisplayField:"Display field",settingPlaceholder:"Placeholder text",settingMaxSuggestions:"Max suggestions",settingZoomScale:"Zoom scale",settingMapWidget:"Map widget",warningNoSources:"At least one search source is required",warningFixSourceErrors:"Resolve validation errors before saving",error_missingName:"Name is required",error_missingPlaceholder:"Placeholder is required",error_missingUrl:"Service URL is required",error_invalidUrl:"Enter a valid HTTPS URL",error_missingLayerId:"Layer ID is required",error_missingSearchFields:"Search fields are required",locatorSourceLabel:"Locator",layerSourceLabel:"Feature layer",settingSourceName:"Source name",settingSourcePlaceholder:"Source placeholder",settingRemoveSource:"Remove",settingSearchBehavior:"Search behavior",settingPersistLastSearch:"Persist last search term",settingLayerId:"Layer ID",settingExactMatch:"Exact match",settingCategories:"Categories (comma-separated)",settingCountryCode:"Country code (ISO 3166-1)",settingWithinViewEnabled:"Restrict to current view",settingMinSuggestCharacters:"Minimum characters for suggestions",settingLocationType:"Location type",settingCoordinateSearch:"Coordinate search",settingEnableCoordinateSearch:"Enable automatic coordinate detection",settingCoordinateSearchDescription:"Automatically detects coordinate input and performs coordinate search without switching mode.",settingPreferredProjection:"Default projection",coordinatePreferenceAuto:"Automatic (selects best)",coordinatePreferenceTm:"SWEREF 99 TM",coordinatePreferenceZone:"SWEREF 99 zones",settingCoordinateZoomScale:"Zoom scale for coordinate results",settingShowCoordinateBadge:"Show badge for coordinate input",newSourceLabel:"Source {index}",settingStyleVariant:"Style variant",styleVariantDefault:"Default",styleVariantLinear:"Linear"}),U=e=>{const t=o.css`
    .active {
      .style-img {
        border: 2px solid var(--sys-color-primary-light);
      }
    }
    .style-img {
      border: 2px solid transparent;
      height: ${o.polished.rem(36)} !important;
      margin: 0;
    }
    .arrangement {
      margin: 0;
      height: auto;
      background: #181818;
    }
    .arrangement-mt {
      margin-top: ${o.polished.rem(12)};
    }
    & button {
      width: ${o.polished.rem(108)};
      height: ${o.polished.rem(80)};
      padding: 0;
    }
  `,r=o.hooks.useTranslation(N),{config:a,id:c,onSettingChange:u,currentVariant:d}=e,g=o.hooks.useEventCallback((e=>{u({id:c,config:a.set("styleVariant",e)})}));return(0,o.jsx)(i.SettingSection,{title:r("settingStyleVariant"),css:t},(0,o.jsx)(i.SettingRow,null,(0,o.jsx)("div",{"aria-label":r("settingStyleVariant"),role:"radiogroup"},(0,o.jsx)(l.Button,{type:"tertiary",role:"radio",className:(0,o.classNames)("w-100 arrangement",{active:d===n.Default}),onClick:()=>{g(n.Default)},title:r("styleVariantDefault"),"aria-label":r("styleVariantDefault"),"aria-checked":d===n.Default},(0,o.jsx)(l.Icon,{className:"style-img w-100 h-100",icon:s(4203)})),(0,o.jsx)(l.Button,{type:"tertiary",role:"radio",className:(0,o.classNames)("w-100 arrangement arrangement-mt",{active:d===n.Linear}),onClick:()=>{g(n.Linear)},title:r("styleVariantLinear"),"aria-label":r("styleVariantLinear"),"aria-checked":d===n.Linear},(0,o.jsx)(l.Icon,{className:"style-img w-100 h-100",icon:s(9161)})))))},H=t=>t.type===e.Layer?{...t,searchFields:[...t.searchFields??[]],resultSymbol:t.resultSymbol?{...t.resultSymbol}:void 0,searchFieldsText:(t.searchFields??[]).join(", ")}:{...t,categories:t.categories?[...t.categories]:[],outFields:t.outFields?[...t.outFields]:void 0},V=t=>{const r={...t,id:t.id||`${t.type}-${Date.now()}`};if(t.type===e.Layer&&t.searchFieldsText){const e=t.searchFieldsText.split(",").map(j).filter(Boolean);r.searchFields=e}const a=C(t.placeholder,""),n=t.maxSuggestions??6;return t.type===e.Layer?L(r,0,a,n):F(r,0,a,n)},X=e=>e.map(V),Z=e=>X(e).map((e=>(e=>{const t=[];return B(e)?z(e,t):D(e)&&(z(e,t),e.layerId||t.push("missingLayerId"),e.searchFields?.length||t.push("missingSearchFields")),{valid:0===t.length,errors:t}})(e).errors)),q=t=>{const r=x(),n=o.hooks.useTranslation(N),s=T(t.config,{ensureDefaultSource:!1}),c=s.searchSources.map(H),[u,h]=o.React.useState((()=>c)),[S,m]=o.React.useState(s.placeholder),[y,v]=o.React.useState(s.maxSuggestions),[b,w]=o.React.useState(s.zoomScale),[R,M]=o.React.useState(s.persistLastSearch),[O,F]=o.React.useState(s.enableCoordinateSearch??!0),[L,W]=o.React.useState(s.coordinateZoomScale??p),[z,B]=o.React.useState(s.preferredProjection??A),[D,V]=o.React.useState(s.showCoordinateBadge??!0),[q,J]=o.React.useState(s.styleVariant??f),[K,Y]=o.React.useState((()=>Z(c))),Q=o.React.useRef(0);o.hooks.useUpdateEffect((()=>{const e=s.searchSources.map(H);h(e),m(s.placeholder),v(s.maxSuggestions),w(s.zoomScale),M(s.persistLastSearch),F(s.enableCoordinateSearch??!0),W(s.coordinateZoomScale??p),B(s.preferredProjection??A),V(s.showCoordinateBadge??!0),J(s.styleVariant??f),Y(Z(e))}),[t.config]);const G=o.hooks.useEventCallback(((e,r)=>{const a={...s,...e,searchSources:X(r??u)};t.onSettingChange({id:t.id,config:d()(a)})})),_=o.hooks.useEventCallback((e=>{h(e),Y(Z(e)),G({searchSources:[]},e)})),$=o.hooks.useEventCallback(((e,t,r)=>{switch(e){case"url":return I(E(t));case"maxSuggestions":return k(t,r?.maxSuggestions??y);case"exactMatch":case"withinViewEnabled":return Boolean(t);case"categories":case"outFields":return Array.isArray(t)?t.map(j).filter(Boolean):[];case"countryCode":return j(E(t)).replace(/[^A-Za-z]/g,"").slice(0,3).toUpperCase()||void 0;case"locationType":{const e=j(E(t)).toLowerCase();return"street"===e||"rooftop"===e?e:void 0}case"minSuggestCharacters":return k(t,3);case"resultSymbol":return t??void 0;default:return j(E(t))}})),ee=o.hooks.useEventCallback(((e,t,r)=>{const a=u[e];if(!a)return;const n=$(t,r,a);_(u.map(((r,a)=>a===e?{...r,[t]:n}:r)))})),te=o.hooks.useEventCallback(((e,t)=>{_(u.map(((r,a)=>a===e?{...r,searchFieldsText:j(t)}:r)))})),re=o.hooks.useEventCallback(((t,r)=>{_(u.map(((a,n)=>n===t?H(r===e.Layer?{id:a.id,type:r,name:a.name,placeholder:a.placeholder,url:a.url,maxSuggestions:a.maxSuggestions,layerId:"",searchFields:[],displayField:"",exactMatch:!1}:{id:a.id,type:r,name:a.name,placeholder:a.placeholder,url:a.url,maxSuggestions:a.maxSuggestions,categories:[],outFields:[]}):a)))})),ae=o.hooks.useEventCallback((()=>{const t=`source-${Date.now()}-${++Q.current}`;_([...u,H({id:t,type:e.Locator,name:n("newSourceLabel",{index:u.length+1}),placeholder:S,url:"",maxSuggestions:y,categories:[],outFields:[]})])})),ne=o.hooks.useEventCallback((e=>{_(u.filter(((t,r)=>r!==e)))})),oe=o.hooks.useEventCallback((e=>{const t=C(e,g);m(t),G({placeholder:t})})),ie=o.hooks.useEventCallback((e=>{const t=k(e,6);v(t),G({maxSuggestions:t})})),se=o.hooks.useEventCallback((e=>{const t=P(e,1e4);w(t),G({zoomScale:t})})),ce=o.hooks.useEventCallback((e=>{F(e),G({enableCoordinateSearch:e})})),le=o.hooks.useEventCallback((e=>{const t=P(e,p);W(t),G({coordinateZoomScale:t})})),ue=o.hooks.useEventCallback((e=>{B(e),G({preferredProjection:e})})),de=o.hooks.useEventCallback((e=>{V(e),G({showCoordinateBadge:e})})),ge=o.hooks.useEventCallback((e=>{M(e),G({persistLastSearch:e})})),he=o.hooks.useEventCallback((e=>{const r=Array.isArray(e)?e.filter((e=>"string"==typeof e&&e.trim().length>0)):[],a=d()({searchSources:X(u),placeholder:S,maxSuggestions:y,zoomScale:b,persistLastSearch:R,enableCoordinateSearch:O,coordinateZoomScale:L,preferredProjection:z,showCoordinateBadge:D,styleVariant:q});t.onSettingChange({id:t.id,config:a,useMapWidgetIds:r.length?[r[0]]:[]})})),pe=K.some((e=>e.length>0));return(0,o.jsx)(o.React.Fragment,null,(0,o.jsx)(i.SettingSection,{title:n("settingMapWidget")},(0,o.jsx)(i.SettingRow,{flow:"wrap"},(0,o.jsx)(i.MapWidgetSelector,{onSelect:he,useMapWidgetIds:t.useMapWidgetIds}))),0===u.length&&(0,o.jsx)(l.Alert,{open:!0,withIcon:!0,type:"warning",text:n("warningNoSources")}),(0,o.jsx)(i.SettingSection,{title:n("settingSearchSources")},u.map(((t,a)=>{const s=K[a]??[],c=t.type===e.Layer,d=t.type===e.Locator?t:null,g=t.type===e.Layer?t:null;return(0,o.jsx)("div",{key:t.id??`source-${a}`},(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingSourceName")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingSourceName"),value:t.name,onChange:e=>ee(a,"name",e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingSourceType")},(0,o.jsx)(l.Select,{css:r.fieldWidth,value:t.type,"aria-label":n("settingSourceType"),onChange:e=>re(a,e.target.value)},(0,o.jsx)(l.Option,{value:e.Locator},n("locatorSourceLabel")),(0,o.jsx)(l.Option,{value:e.Layer},n("layerSourceLabel")))),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingSourceUrl")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingSourceUrl"),value:t.url??"",onChange:e=>ee(a,"url",e.target.value)})),!c&&(0,o.jsx)(o.React.Fragment,null,(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingCategories")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingCategories"),placeholder:"Coffee Shop, Pizza, Hotel",value:(d?.categories??[]).join(", "),onChange:e=>{const t=e.target.value.split(",").map((e=>j(e))).filter(Boolean);ee(a,"categories",t)}})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingCountryCode")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingCountryCode"),placeholder:"SE, NO, DK",maxLength:3,value:d?.countryCode??"",onChange:e=>ee(a,"countryCode",e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingLocationType")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingLocationType"),value:d?.locationType??"",onChange:e=>ee(a,"locationType",e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"no-wrap",label:n("settingWithinViewEnabled")},(0,o.jsx)(l.Switch,{"aria-label":n("settingWithinViewEnabled"),checked:Boolean(d?.withinViewEnabled),onChange:e=>ee(a,"withinViewEnabled",e.target.checked)}))),c&&(0,o.jsx)(o.React.Fragment,null,(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingLayerId")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingLayerId"),value:g?.layerId??"",onChange:e=>ee(a,"layerId",e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingSearchFields")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingSearchFields"),value:t.searchFieldsText??"",onChange:e=>te(a,e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingDisplayField")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingDisplayField"),value:g?.displayField??"",onChange:e=>ee(a,"displayField",e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"no-wrap",label:n("settingExactMatch")},(0,o.jsx)(l.Switch,{"aria-label":n("settingExactMatch"),checked:Boolean(g?.exactMatch),onChange:e=>ee(a,"exactMatch",e.target.checked)})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingMinSuggestCharacters")},(0,o.jsx)(l.NumericInput,{css:r.fieldWidth,"aria-label":n("settingMinSuggestCharacters"),min:1,max:10,value:g?.minSuggestCharacters??3,onAcceptValue:e=>ee(a,"minSuggestCharacters",e)}))),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingSourcePlaceholder")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingSourcePlaceholder"),value:t.placeholder??"",onChange:e=>ee(a,"placeholder",e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"wrap"},(0,o.jsx)(l.NumericInput,{css:r.fieldWidth,"aria-label":n("settingMaxSuggestions"),min:1,max:20,value:t.maxSuggestions??y,onAcceptValue:e=>ee(a,"maxSuggestions",e)}),u.length>1&&(0,o.jsx)(l.Button,{block:!0,onClick:()=>ne(a),"aria-label":n("settingRemoveSource")},n("settingRemoveSource"))),s.length>0&&(0,o.jsx)("div",{css:r.fieldError},s.map((e=>(0,o.jsx)("div",{key:e},n(`error_${e}`))))))})),(0,o.jsx)(l.Button,{block:!0,onClick:ae,className:"mt-2"},n("settingAddSource"))),(0,o.jsx)(i.SettingSection,{title:n("settingSearchBehavior")},(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingPlaceholder")},(0,o.jsx)(l.TextInput,{css:r.fieldWidth,"aria-label":n("settingPlaceholder"),value:S,onChange:e=>oe(e.target.value)})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingMaxSuggestions")},(0,o.jsx)(l.NumericInput,{css:r.fieldWidth,min:1,max:20,value:y,onAcceptValue:ie})),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingZoomScale")},(0,o.jsx)(l.NumericInput,{css:r.fieldWidth,min:1,value:b,onAcceptValue:se})),(0,o.jsx)(i.SettingRow,{flow:"no-wrap",label:n("settingPersistLastSearch")},(0,o.jsx)(l.Switch,{"aria-label":n("settingPersistLastSearch"),checked:R,onChange:e=>ge(e.target.checked)}))),(0,o.jsx)(U,{id:t.id,config:t.config,onSettingChange:t.onSettingChange,currentVariant:q}),(0,o.jsx)(i.SettingSection,{title:n("settingCoordinateSearch")},(0,o.jsx)("div",{css:r.coordinateSection},(0,o.jsx)(i.SettingRow,{flow:"no-wrap",label:n("settingEnableCoordinateSearch")},(0,o.jsx)(l.Switch,{"aria-label":n("settingEnableCoordinateSearch"),checked:O,onChange:e=>ce(e.target.checked)})),(0,o.jsx)(i.SettingRow,{flow:"wrap"},(0,o.jsx)("p",{css:r.coordinateField},n("settingCoordinateSearchDescription"))),O&&(0,o.jsx)(o.React.Fragment,null,(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingPreferredProjection")},(0,o.jsx)(l.Select,{css:r.fieldWidth,"aria-label":n("settingPreferredProjection"),value:z,onChange:e=>ue(e.target.value)},(0,o.jsx)(l.Option,{value:a.Auto},n("coordinatePreferenceAuto")),(0,o.jsx)(l.Option,{value:a.Tm},n("coordinatePreferenceTm")),(0,o.jsx)(l.Option,{value:a.Zone},n("coordinatePreferenceZone")))),(0,o.jsx)(i.SettingRow,{flow:"wrap",label:n("settingCoordinateZoomScale")},(0,o.jsx)(l.NumericInput,{css:r.fieldWidth,min:1,value:L,onAcceptValue:le})),(0,o.jsx)(i.SettingRow,{flow:"no-wrap",label:n("settingShowCoordinateBadge")},(0,o.jsx)(l.Switch,{"aria-label":n("settingShowCoordinateBadge"),checked:D,onChange:e=>de(e.target.checked)}))))),pe&&(0,o.jsx)(l.Alert,{open:!0,withIcon:!0,type:"warning",text:n("warningFixSourceErrors")}))};function J(e){s.p=e}})(),c})())}}}));